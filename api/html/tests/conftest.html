<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.7.2" />
<title>conftest API documentation</title>
<meta name="description" content="Set up testing the Contribution tool â€¦" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>conftest</code></h1>
</header>
<section id="section-intro">
<p>Set up testing the Contribution tool</p>
<p>Here we set up the scene.
By means of
<a href="https://docs.pytest.org/en/latest/fixture.html">fixtures</a>
we define the web-app objects
to be tested and the web clients to exercise functions in those objects.</p>
<p>Contents</p>
<h3 id="set-up">Set-up</h3>
<dl>
<dt><a title="test_10_factory10" href="test_10_factory10.html"><code>test_10_factory10</code></a></dt>
<dd>How the app is set up, difference between production and development</dd>
</dl>
<h3 id="contributions-filling-out">Contributions: filling out</h3>
<dl>
<dt><a title="test_20_users10" href="test_20_users10.html"><code>test_20_users10</code></a></dt>
<dd>All about users and what they can and cannot do.</dd>
<dt><a title="test_30_contrib10" href="test_30_contrib10.html"><code>test_30_contrib10</code></a></dt>
<dd>Getting started with contributions.</dd>
<dt><a title="test_30_contrib20" href="test_30_contrib20.html"><code>test_30_contrib20</code></a></dt>
<dd>Modifying contribution fields that are typed in by the user.</dd>
<dt><a title="test_30_contrib30" href="test_30_contrib30.html"><code>test_30_contrib30</code></a></dt>
<dd>Modifying contribution fields that have values in value tables.</dd>
<dt><a title="test_30_contrib40" href="test_30_contrib40.html"><code>test_30_contrib40</code></a></dt>
<dd>Checking the visibility of sensitive fields.</dd>
</dl>
<h3 id="assessments-filling-out-submitting-and-assigning-reviewers">Assessments: filling out, submitting, and assigning reviewers</h3>
<dl>
<dt><a title="test_40_assess10" href="test_40_assess10.html"><code>test_40_assess10</code></a></dt>
<dd>Starting an assessment, filling it out, submitting it and withdrawing it.</dd>
<dt><a title="test_40_assess20" href="test_40_assess20.html"><code>test_40_assess20</code></a></dt>
<dd>Assigning reviewers.</dd>
</dl>
<h3 id="reviews-filling-out-and-deciding">Reviews: filling out and deciding.</h3>
<dl>
<dt><code>test_50_review10</code></dt>
<dd>Starting a review, filling it out, and deciding.</dd>
<dt><code>test_50_assess20</code></dt>
<dd>Revising and resubmitting assessments.</dd>
</dl>
<h3 id="contributions-selection">Contributions: selection.</h3>
<dl>
<dt><code>test_60_contrib10</code></dt>
<dd>Selecting contributions.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Set up testing the Contribution tool

Here we set up the scene.
By means of
[fixtures](https://docs.pytest.org/en/latest/fixture.html)
we define the web-app objects
to be tested and the web clients to exercise functions in those objects.

Contents

### Set-up

`test_10_factory10`
:   How the app is set up, difference between production and development

### Contributions: filling out

`test_20_users10`
:   All about users and what they can and cannot do.

`test_30_contrib10`
:   Getting started with contributions.

`test_30_contrib20`
:   Modifying contribution fields that are typed in by the user.

`test_30_contrib30`
:   Modifying contribution fields that have values in value tables.

`test_30_contrib40`
:   Checking the visibility of sensitive fields.

### Assessments: filling out, submitting, and assigning reviewers

`test_40_assess10`
:   Starting an assessment, filling it out, submitting it and withdrawing it.

`test_40_assess20`
:   Assigning reviewers.

### Reviews: filling out and deciding.

`test_50_review10`
:   Starting a review, filling it out, and deciding.

`test_50_assess20`
:   Revising and resubmitting assessments.

### Contributions: selection.

`test_60_contrib10`
:   Selecting contributions.

&#34;&#34;&#34;

import pytest

import magic  # noqa
from control.app import appFactory


DEBUG = False
TEST = True

USERS = &#34;&#34;&#34;
    public
    auth
    coord
    mycoord
    expert
    final
    editor
    owner
    office
    system
    root
&#34;&#34;&#34;.strip().split()
&#34;&#34;&#34;The `eppn` attribute of all relevant test users in this suite.

See `test_20_users10` where we introduce them.

Here we make fixtures `clientAuth`, `clientOwner` etc. for each of them.
These client fixtures represent a web client with the corresponding user logged in,
ready to interact with the server (in development mode).

There is also a fixture `clientPublic` for the non-authenticated user.

Finally, there is a fixture `clients` that contains fixtures for all the users.
&#34;&#34;&#34;


RIGHTFUL_USERS = &#34;&#34;&#34;
    editor
    owner
    office
    system
    root
&#34;&#34;&#34;.strip().split()
&#34;&#34;&#34;The users that have normally access to an item. &#34;&#34;&#34;


POWER_USERS = &#34;&#34;&#34;
    office
    system
    root
&#34;&#34;&#34;.strip().split()
&#34;&#34;&#34;The power users.&#34;&#34;&#34;


@pytest.fixture
def app():
    &#34;&#34;&#34;Normal app for testing: development mode, test mode.

    There is no difference between production and development,
    except for the existence of test users in development mode.
    So most tests are done in development mode, with the test users.

    Only a few tests are in production mode, see below.
    &#34;&#34;&#34;

    yield appFactory(&#34;development&#34;, DEBUG, True)


@pytest.fixture
def appNotest():
    &#34;&#34;&#34;Special app: development mode, but Flask test mode switched off.&#34;&#34;&#34;

    yield appFactory(&#34;development&#34;, DEBUG, False)


@pytest.fixture
def appProd():
    &#34;&#34;&#34;Production app: production mode, but Flask test mode switched on.

    We only use this for verifying that test users cannot log in onto
    the production app.
    &#34;&#34;&#34;

    yield appFactory(&#34;production&#34;, DEBUG, False)


@pytest.fixture
def clientProd(appProd):
    &#34;&#34;&#34;Client accessing the production app.&#34;&#34;&#34;

    return appProd.test_client()


def makeClient(app, user):
    &#34;&#34;&#34;Logs in a specific user.

    Parameters
    ----------
    app: object
    user: string
        Identity of the user (eppn)
    &#34;&#34;&#34;

    client = app.test_client()
    if user == &#34;public&#34;:
        return client

    response = client.get(f&#34;/login?eppn={user}&#34;)
    if response.status_code == 302:
        return client
    return None


@pytest.fixture
def clients(app):
    &#34;&#34;&#34;A dictionary of client fixtures for each user.

    Keyed by user (eppn), the values are corresponding client fixtures.

    This comes in handy to pass to tests that want to perform the same
    action on behalf of the different users.
    &#34;&#34;&#34;

    return {user: makeClient(app, user) for user in USERS}


@pytest.fixture
def clientsMy(app):
    &#34;&#34;&#34;A dictionary of client fixtures for the owner/editor users.

    Keyed by user (eppn), the values are corresponding client fixtures.
    &#34;&#34;&#34;

    return {user: makeClient(app, user) for user in (&#34;owner&#34;, &#34;editor&#34;)}


@pytest.fixture
def clientsPower(app):
    &#34;&#34;&#34;A dictionary of client fixtures for the power users.

    Keyed by user (eppn), the values are corresponding client fixtures.
    &#34;&#34;&#34;

    return {user: makeClient(app, user) for user in POWER_USERS}


@pytest.fixture
def clientPublic(app):
    return app.test_client()


@pytest.fixture
def clientAuth(app):
    return makeClient(app, &#34;auth&#34;)


@pytest.fixture
def clientCoord(app):
    return makeClient(app, &#34;coord&#34;)


@pytest.fixture
def clientExpert(app):
    return makeClient(app, &#34;expert&#34;)


@pytest.fixture
def clientFinal(app):
    return makeClient(app, &#34;final&#34;)


@pytest.fixture
def clientMycoord(app):
    return makeClient(app, &#34;mycoord&#34;)


@pytest.fixture
def clientEditor(app):
    return makeClient(app, &#34;editor&#34;)


@pytest.fixture
def clientOwner(app):
    return makeClient(app, &#34;owner&#34;)


@pytest.fixture
def clientOffice(app):
    return makeClient(app, &#34;office&#34;)


@pytest.fixture
def clientSystem(app):
    return makeClient(app, &#34;system&#34;)


@pytest.fixture
def clientRoot(app):
    return makeClient(app, &#34;root&#34;)</code></pre>
</details>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-variables">Global variables</h2>
<dl>
<dt id="conftest.POWER_USERS"><code class="name">var <span class="ident">POWER_USERS</span></code></dt>
<dd>
<section class="desc"><p>The power users.</p></section>
</dd>
<dt id="conftest.RIGHTFUL_USERS"><code class="name">var <span class="ident">RIGHTFUL_USERS</span></code></dt>
<dd>
<section class="desc"><p>The users that have normally access to an item.</p></section>
</dd>
<dt id="conftest.USERS"><code class="name">var <span class="ident">USERS</span></code></dt>
<dd>
<section class="desc"><p>The <code>eppn</code> attribute of all relevant test users in this suite.</p>
<p>See <a title="test_20_users10" href="test_20_users10.html"><code>test_20_users10</code></a> where we introduce them.</p>
<p>Here we make fixtures <a title="conftest.clientAuth" href="#conftest.clientAuth"><code>clientAuth()</code></a>, <a title="conftest.clientOwner" href="#conftest.clientOwner"><code>clientOwner()</code></a> etc. for each of them.
These client fixtures represent a web client with the corresponding user logged in,
ready to interact with the server (in development mode).</p>
<p>There is also a fixture <a title="conftest.clientPublic" href="#conftest.clientPublic"><code>clientPublic()</code></a> for the non-authenticated user.</p>
<p>Finally, there is a fixture <a title="conftest.clients" href="#conftest.clients"><code>clients()</code></a> that contains fixtures for all the users.</p></section>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="conftest.app"><code class="name flex">
<span>def <span class="ident">app</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Normal app for testing: development mode, test mode.</p>
<p>There is no difference between production and development,
except for the existence of test users in development mode.
So most tests are done in development mode, with the test users.</p>
<p>Only a few tests are in production mode, see below.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def app():
    &#34;&#34;&#34;Normal app for testing: development mode, test mode.

    There is no difference between production and development,
    except for the existence of test users in development mode.
    So most tests are done in development mode, with the test users.

    Only a few tests are in production mode, see below.
    &#34;&#34;&#34;

    yield appFactory(&#34;development&#34;, DEBUG, True)</code></pre>
</details>
</dd>
<dt id="conftest.appNotest"><code class="name flex">
<span>def <span class="ident">appNotest</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Special app: development mode, but Flask test mode switched off.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def appNotest():
    &#34;&#34;&#34;Special app: development mode, but Flask test mode switched off.&#34;&#34;&#34;

    yield appFactory(&#34;development&#34;, DEBUG, False)</code></pre>
</details>
</dd>
<dt id="conftest.appProd"><code class="name flex">
<span>def <span class="ident">appProd</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Production app: production mode, but Flask test mode switched on.</p>
<p>We only use this for verifying that test users cannot log in onto
the production app.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def appProd():
    &#34;&#34;&#34;Production app: production mode, but Flask test mode switched on.

    We only use this for verifying that test users cannot log in onto
    the production app.
    &#34;&#34;&#34;

    yield appFactory(&#34;production&#34;, DEBUG, False)</code></pre>
</details>
</dd>
<dt id="conftest.clientAuth"><code class="name flex">
<span>def <span class="ident">clientAuth</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientAuth(app):
    return makeClient(app, &#34;auth&#34;)</code></pre>
</details>
</dd>
<dt id="conftest.clientCoord"><code class="name flex">
<span>def <span class="ident">clientCoord</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientCoord(app):
    return makeClient(app, &#34;coord&#34;)</code></pre>
</details>
</dd>
<dt id="conftest.clientEditor"><code class="name flex">
<span>def <span class="ident">clientEditor</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientEditor(app):
    return makeClient(app, &#34;editor&#34;)</code></pre>
</details>
</dd>
<dt id="conftest.clientExpert"><code class="name flex">
<span>def <span class="ident">clientExpert</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientExpert(app):
    return makeClient(app, &#34;expert&#34;)</code></pre>
</details>
</dd>
<dt id="conftest.clientFinal"><code class="name flex">
<span>def <span class="ident">clientFinal</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientFinal(app):
    return makeClient(app, &#34;final&#34;)</code></pre>
</details>
</dd>
<dt id="conftest.clientMycoord"><code class="name flex">
<span>def <span class="ident">clientMycoord</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientMycoord(app):
    return makeClient(app, &#34;mycoord&#34;)</code></pre>
</details>
</dd>
<dt id="conftest.clientOffice"><code class="name flex">
<span>def <span class="ident">clientOffice</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientOffice(app):
    return makeClient(app, &#34;office&#34;)</code></pre>
</details>
</dd>
<dt id="conftest.clientOwner"><code class="name flex">
<span>def <span class="ident">clientOwner</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientOwner(app):
    return makeClient(app, &#34;owner&#34;)</code></pre>
</details>
</dd>
<dt id="conftest.clientProd"><code class="name flex">
<span>def <span class="ident">clientProd</span></span>(<span>appProd)</span>
</code></dt>
<dd>
<section class="desc"><p>Client accessing the production app.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientProd(appProd):
    &#34;&#34;&#34;Client accessing the production app.&#34;&#34;&#34;

    return appProd.test_client()</code></pre>
</details>
</dd>
<dt id="conftest.clientPublic"><code class="name flex">
<span>def <span class="ident">clientPublic</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientPublic(app):
    return app.test_client()</code></pre>
</details>
</dd>
<dt id="conftest.clientRoot"><code class="name flex">
<span>def <span class="ident">clientRoot</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientRoot(app):
    return makeClient(app, &#34;root&#34;)</code></pre>
</details>
</dd>
<dt id="conftest.clientSystem"><code class="name flex">
<span>def <span class="ident">clientSystem</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientSystem(app):
    return makeClient(app, &#34;system&#34;)</code></pre>
</details>
</dd>
<dt id="conftest.clients"><code class="name flex">
<span>def <span class="ident">clients</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"><p>A dictionary of client fixtures for each user.</p>
<p>Keyed by user (eppn), the values are corresponding client fixtures.</p>
<p>This comes in handy to pass to tests that want to perform the same
action on behalf of the different users.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clients(app):
    &#34;&#34;&#34;A dictionary of client fixtures for each user.

    Keyed by user (eppn), the values are corresponding client fixtures.

    This comes in handy to pass to tests that want to perform the same
    action on behalf of the different users.
    &#34;&#34;&#34;

    return {user: makeClient(app, user) for user in USERS}</code></pre>
</details>
</dd>
<dt id="conftest.clientsMy"><code class="name flex">
<span>def <span class="ident">clientsMy</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"><p>A dictionary of client fixtures for the owner/editor users.</p>
<p>Keyed by user (eppn), the values are corresponding client fixtures.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientsMy(app):
    &#34;&#34;&#34;A dictionary of client fixtures for the owner/editor users.

    Keyed by user (eppn), the values are corresponding client fixtures.
    &#34;&#34;&#34;

    return {user: makeClient(app, user) for user in (&#34;owner&#34;, &#34;editor&#34;)}</code></pre>
</details>
</dd>
<dt id="conftest.clientsPower"><code class="name flex">
<span>def <span class="ident">clientsPower</span></span>(<span>app)</span>
</code></dt>
<dd>
<section class="desc"><p>A dictionary of client fixtures for the power users.</p>
<p>Keyed by user (eppn), the values are corresponding client fixtures.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.fixture
def clientsPower(app):
    &#34;&#34;&#34;A dictionary of client fixtures for the power users.

    Keyed by user (eppn), the values are corresponding client fixtures.
    &#34;&#34;&#34;

    return {user: makeClient(app, user) for user in POWER_USERS}</code></pre>
</details>
</dd>
<dt id="conftest.makeClient"><code class="name flex">
<span>def <span class="ident">makeClient</span></span>(<span>app, user)</span>
</code></dt>
<dd>
<section class="desc"><p>Logs in a specific user.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><a title="conftest.app" href="#conftest.app"><code>app()</code></a></strong> :&ensp;<code>object</code></dt>
<dd>&nbsp;</dd>
<dt><strong><code>user</code></strong> :&ensp;<code>string</code></dt>
<dd>Identity of the user (eppn)</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def makeClient(app, user):
    &#34;&#34;&#34;Logs in a specific user.

    Parameters
    ----------
    app: object
    user: string
        Identity of the user (eppn)
    &#34;&#34;&#34;

    client = app.test_client()
    if user == &#34;public&#34;:
        return client

    response = client.get(f&#34;/login?eppn={user}&#34;)
    if response.status_code == 302:
        return client
    return None</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#set-up">Set-up</a></li>
<li><a href="#contributions-filling-out">Contributions: filling out</a></li>
<li><a href="#assessments-filling-out-submitting-and-assigning-reviewers">Assessments: filling out, submitting, and assigning reviewers</a></li>
<li><a href="#reviews-filling-out-and-deciding">Reviews: filling out and deciding.</a></li>
<li><a href="#contributions-selection">Contributions: selection.</a></li>
</ul>
</div>
<ul id="index">
<li><h3><a href="#header-variables">Global variables</a></h3>
<ul class="">
<li><code><a title="conftest.POWER_USERS" href="#conftest.POWER_USERS">POWER_USERS</a></code></li>
<li><code><a title="conftest.RIGHTFUL_USERS" href="#conftest.RIGHTFUL_USERS">RIGHTFUL_USERS</a></code></li>
<li><code><a title="conftest.USERS" href="#conftest.USERS">USERS</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="conftest.app" href="#conftest.app">app</a></code></li>
<li><code><a title="conftest.appNotest" href="#conftest.appNotest">appNotest</a></code></li>
<li><code><a title="conftest.appProd" href="#conftest.appProd">appProd</a></code></li>
<li><code><a title="conftest.clientAuth" href="#conftest.clientAuth">clientAuth</a></code></li>
<li><code><a title="conftest.clientCoord" href="#conftest.clientCoord">clientCoord</a></code></li>
<li><code><a title="conftest.clientEditor" href="#conftest.clientEditor">clientEditor</a></code></li>
<li><code><a title="conftest.clientExpert" href="#conftest.clientExpert">clientExpert</a></code></li>
<li><code><a title="conftest.clientFinal" href="#conftest.clientFinal">clientFinal</a></code></li>
<li><code><a title="conftest.clientMycoord" href="#conftest.clientMycoord">clientMycoord</a></code></li>
<li><code><a title="conftest.clientOffice" href="#conftest.clientOffice">clientOffice</a></code></li>
<li><code><a title="conftest.clientOwner" href="#conftest.clientOwner">clientOwner</a></code></li>
<li><code><a title="conftest.clientProd" href="#conftest.clientProd">clientProd</a></code></li>
<li><code><a title="conftest.clientPublic" href="#conftest.clientPublic">clientPublic</a></code></li>
<li><code><a title="conftest.clientRoot" href="#conftest.clientRoot">clientRoot</a></code></li>
<li><code><a title="conftest.clientSystem" href="#conftest.clientSystem">clientSystem</a></code></li>
<li><code><a title="conftest.clients" href="#conftest.clients">clients</a></code></li>
<li><code><a title="conftest.clientsMy" href="#conftest.clientsMy">clientsMy</a></code></li>
<li><code><a title="conftest.clientsPower" href="#conftest.clientsPower">clientsPower</a></code></li>
<li><code><a title="conftest.makeClient" href="#conftest.makeClient">makeClient</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.7.2</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>