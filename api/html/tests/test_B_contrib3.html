<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.7.2" />
<title>test_B_contrib3 API documentation</title>
<meta name="description" content="Test scenario for contributions â€¦" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>test_B_contrib3</code></h1>
</header>
<section id="section-intro">
<p>Test scenario for contributions.</p>
<p>These tests follow <code>tests.test_contrib1</code>.</p>
<h2 id="acts">Acts</h2>
<ul>
<li><strong>Suzan</strong> finds her contribution and continues filling it out.</li>
<li>During this filling-out, several checks will be performed.</li>
</ul>
<p>Here we focus on the fields that have values in other tables, the valueTables.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Test scenario for contributions.

These tests follow `tests.test_contrib1`.

## Acts

*   **Suzan** finds her contribution and continues filling it out.
*   During this filling-out, several checks will be performed.

Here we focus on the fields that have values in other tables, the valueTables.

&#34;&#34;&#34;


import pytest

import magic  # noqa
from control.utils import pick as G
from helpers import (
    UNDEF_VALUE,
    CONTRIB,
    modifyField,
    getValueTable,
    startWithContrib,
    fieldValue,
)


contribInfo = {}
valueTables = {}

EXAMPLE = dict(
    year=tuple(str(yr) for yr in range(2010, 2030)),
    country=&#34;&#34;&#34;
ATðŸ‡¦ðŸ‡¹
BEðŸ‡§ðŸ‡ª
HRðŸ‡­ðŸ‡·
CYðŸ‡¨ðŸ‡¾
DKðŸ‡©ðŸ‡°
FRðŸ‡«ðŸ‡·
DEðŸ‡©ðŸ‡ª
GRðŸ‡¬ðŸ‡·
IEðŸ‡®ðŸ‡ª
ITðŸ‡®ðŸ‡¹
LUðŸ‡±ðŸ‡º
MTðŸ‡²ðŸ‡¹
NLðŸ‡³ðŸ‡±
PTðŸ‡µðŸ‡¹
RSðŸ‡·ðŸ‡¸
SIðŸ‡¸ðŸ‡®
PLðŸ‡µðŸ‡±
&#34;&#34;&#34;.strip().split(
        &#34;\n&#34;
    ),
    vcc=&#34;&#34;&#34;
Coordination
VCC1
VCC2
VCC3
VCC4
Working Group
&#34;&#34;&#34;.strip().split(
        &#34;\n&#34;
    ),
    typeContribution=&#34;&#34;&#34;
service - data hosting
service - processing service
service - support service
service - access to resources
activity - event
activity - consulting
activity - DARIAH coordination
activity - resource creation
activity - software development
&#34;&#34;&#34;.strip().split(
        &#34;\n&#34;
    ),
    tadirahObject=&#34;&#34;&#34;
Artifacts
Bibliographic Listings
Code
Computers
Curricula
Data
Digital Humanities
File
Images
Images (3D)
Infrastructure
Interaction
Language
Link
Literature
Manuscript
Map
Metadata
Methods
Multimedia
Multimodal
Named Entities
Persons
Projects
Research
Research Process
Research Results
Sheet Music
Software
Sound
Standards
Text
Text Bearing Objects
Tools
VREs
Video
&#34;&#34;&#34;.strip().split(
        &#34;\n&#34;
    ),
    tadirahActivity=&#34;&#34;&#34;
Analysis
Capture
Creation
Dissemination
Enrichment
Interpretation
Meta-Activities
Storage
&#34;&#34;&#34;.strip().split(
        &#34;\n&#34;
    ),
    tadirahTechnique=&#34;&#34;&#34;
Bit Stream Preservation &gt; Storage-Preservation
Brainstorming
Browsing
Cluster Analysis &gt; Analysis-Stylistic Analysis
Collocation Analysis &gt; Analysis- Structural Analysis
Concordancing &gt; Analysis-Structural Analysis
Debugging
Distance Measures &gt; Analysis-Stylistic Analysis
Durable Persistent Media &gt; Storage-Preservation
Emulation &gt; Storage-Preservation
Encoding
Gamification &gt; Dissemination-Crowdsourcing
Georeferencing &gt; Enrichment-Annotation
Information Retrieval &gt; Analysis-Content Analysis
Linked open data &gt; Enrichment-Annotation; Dissemination-Publishing
Machine Learning &gt; Analysis-Structural Analysis; Analysis-Stylistic Analysis; Analysis-Content Analysis
Mapping
Migration &gt; Storage-Preservation
Named Entity Recognition &gt; Enrichment-Annotation; Analysis-Content Analysis
Open Archival Information Systems &gt; Storage-Preservation
POS-Tagging &gt; Analysis-Structural Analysis
Pattern Recognition &gt; Analysis-Relational Analysis
Photography
Preservation Metadata &gt; Storage-Preservation
Principal Component Analysis &gt; Analysis-Stylistic Analysis
Replication &gt; Storage-Preservation
Scanning
Searching
Sentiment Analysis &gt; Analysis-Content Analysis
Sequence Alignment &gt; Analysis-Relational Analysis
Technology Preservation &gt; Storage-Preservation
Topic Modeling &gt; Analysis-Content Analysis
Versioning &gt; Storage-Preservation
Web Crawling &gt; Capture-Gathering
&#34;&#34;&#34;.strip().split(
        &#34;\n&#34;
    ),
    discipline=&#34;&#34;&#34;
Archaeology and Prehistory
Architecture, space management
Art and art history
Biological anthropology
Classical studies
Communication sciences
Cultural heritage and museology
Demography
Economies and finances
Education
Environmental studies
Gender studies
Geography
History
History, Philosophy and Sociology of Sciences
Law
Linguistics
Literature
Management
Media studies
Methods and statistics
Musicology and performing arts
Philosophy
Political science
Psychology
Religions
Social Anthropology and ethnology
Sociology
&#34;&#34;&#34;.strip().split(
        &#34;\n&#34;
    ),
    keyword=&#34;&#34;&#34;
(socio-)linguistic analyses
1795-2015
3D modeling
3D scanning
Analyse quantitative
Analysis-Stylistic Analysis
Architecture
Archives
Arts
Arts and Humanities
Augmented reality
Belgian justice
Belgium
Browsing
Brussels
CÅ“ur du Hainaut
&#34;&#34;&#34;.strip().split(
        &#34;\n&#34;
    ),
)

# SPECIFIC HELPERS


def modifyType(client, eid):
    &#34;&#34;&#34;Modifies the typeContribution field to the example value.
    &#34;&#34;&#34;

    types = valueTables[&#34;typeContribution&#34;]

    field = &#34;typeContribution&#34;
    newValue = EXAMPLE[&#34;typeContribution&#34;][-2]
    (text, fields) = modifyField(client, CONTRIB, eid, field, types[newValue])
    assert G(fields, field) == newValue


# TESTS


def test_start(clientSuzan):
    &#34;&#34;&#34;Can we find or make an item in a list of contributions?

    Yes.
    &#34;&#34;&#34;

    (text, fields, msgs, eid) = startWithContrib(clientSuzan)
    contribInfo[&#34;text&#34;] = text
    contribInfo[&#34;fields&#34;] = fields
    contribInfo[&#34;msgs&#34;] = msgs
    contribInfo[&#34;eid&#34;] = eid


@pytest.mark.parametrize(
    (&#34;field&#34;,),
    (
        (&#34;year&#34;,),
        (&#34;country&#34;,),
        (&#34;vcc&#34;,),
        (&#34;typeContribution&#34;,),
        (&#34;tadirahObject&#34;,),
        (&#34;tadirahActivity&#34;,),
        (&#34;tadirahTechnique&#34;,),
        (&#34;discipline&#34;,),
        (&#34;keyword&#34;,),
    ),
)
def test_value_edit(clientSuzan, field):
    &#34;&#34;&#34;Can we get an edit view of a field with values in a valueTable?

    Yes.

    !!! hint &#34;Stored for later use&#34;
        By using `getValueTable` we store the dict of values in the global
        `valueTables`.
    &#34;&#34;&#34;

    values = getValueTable(clientSuzan, field, contribInfo, valueTables)

    for exampleValue in EXAMPLE[field]:
        assert exampleValue in values


def test_modify_vcc(clientSuzan):
    &#34;&#34;&#34;Can we update the vcc with a multiple value?

    Yes.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    vccs = valueTables[&#34;vcc&#34;]

    field = &#34;vcc&#34;
    (text, fields) = modifyField(
        clientSuzan, CONTRIB, eid, field, [vccs[&#34;VCC1&#34;], vccs[&#34;VCC2&#34;]]
    )
    assert G(fields, field) == &#34;VCC1,VCC2&#34;


def test_modify_vcc_wrong(clientSuzan):
    &#34;&#34;&#34;Can we update the vcc with a nonsense value?

    Yes, but there will be an undefined value instead.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    vccs = valueTables[&#34;vcc&#34;]

    field = &#34;vcc&#34;
    wrongValue = list(valueTables[&#34;tadirahObject&#34;].values())[0]
    (text, fields) = modifyField(
        clientSuzan, CONTRIB, eid, field, [wrongValue, vccs[&#34;VCC2&#34;]]
    )
    assert G(fields, field) == f&#34;{UNDEF_VALUE},VCC2&#34;


def test_modify_vcc_error(clientSuzan):
    &#34;&#34;&#34;Can we update the vcc with a value that is not even an ObjectId?

    Yes, but there will be an undefined value instead.
    The error will be caught.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    vccs = valueTables[&#34;vcc&#34;]

    field = &#34;vcc&#34;
    (text, fields) = modifyField(
        clientSuzan, CONTRIB, eid, field, [&#34;monkey&#34;, vccs[&#34;VCC2&#34;]]
    )
    assert G(fields, field) == f&#34;{UNDEF_VALUE},VCC2&#34;


def test_modify_type_ex1(clientSuzan):
    &#34;&#34;&#34;Can we update the type with a single value?

    Yes.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]

    modifyType(clientSuzan, eid)


def test_modify_type_mult(clientSuzan):
    &#34;&#34;&#34;Can we update the type with multiple values?

    No.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    types = valueTables[&#34;typeContribution&#34;]

    field = &#34;typeContribution&#34;
    newValue1 = EXAMPLE[&#34;typeContribution&#34;][-2]
    newValue2 = &#34;service - data hosting&#34;
    (text, fields) = modifyField(
        clientSuzan, CONTRIB, eid, field, [types[newValue1], types[newValue2]]
    )
    assert G(fields, field) == UNDEF_VALUE


def test_modify_type_ex2(clientSuzan):
    &#34;&#34;&#34;Restore the type to the example value. &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]

    modifyType(clientSuzan, eid)


def test_modify_type_wrong(clientSuzan):
    &#34;&#34;&#34;Can we update the type with a nonsense value?

    Yes, but there will be an undefined value instead.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]

    field = &#34;typeContribution&#34;
    wrongValue = list(valueTables[&#34;tadirahObject&#34;].values())[0]
    (text, fields) = modifyField(clientSuzan, CONTRIB, eid, field, wrongValue)
    assert G(fields, field) == UNDEF_VALUE


def test_modify_type_ex3(clientSuzan):
    &#34;&#34;&#34;Restore the type to the example value. &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]

    modifyType(clientSuzan, eid)


def test_modify_type_typo(clientSuzan):
    &#34;&#34;&#34;Can we update a field if we mis-spell the name?

    No.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    types = valueTables[&#34;typeContribution&#34;]

    fieldx = &#34;xxxContribution&#34;
    newValue = &#34;activity - resource creation&#34;
    (text, fields) = modifyField(clientSuzan, CONTRIB, eid, fieldx, types[newValue])
    assert text == f&#34;No field contrib:{fieldx}&#34;


@pytest.mark.parametrize(
    (&#34;field&#34;,),
    (
        (&#34;tadirahObject&#34;,),
        (&#34;tadirahActivity&#34;,),
        (&#34;tadirahTechnique&#34;,),
        (&#34;discipline&#34;,),
        (&#34;keyword&#34;,),
    ),
)
def test_modify_meta(clientSuzan, field):
    &#34;&#34;&#34;Can we update the meta fields with a multiple value?

    Yes.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    meta = valueTables[field]
    checkValues = EXAMPLE[field][0:3]
    updateValues = [meta[ex] for ex in checkValues]

    (text, fields) = modifyField(clientSuzan, CONTRIB, eid, field, updateValues)
    assert G(fields, field) == &#34;,&#34;.join(checkValues)


@pytest.mark.parametrize(
    (&#34;field&#34;,),
    (
        (&#34;vcc&#34;,),
        (&#34;typeContribution&#34;,),
        (&#34;tadirahObject&#34;,),
        (&#34;tadirahActivity&#34;,),
        (&#34;tadirahTechnique&#34;,),
    ),
)
def test_add_meta_wrong(clientSuzan, field):
    &#34;&#34;&#34;Can we add an extra vcc or type or tadirah characteristic?

    No.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    updateValues = [[&#34;xxx&#34;]]

    (text, fields) = modifyField(clientSuzan, CONTRIB, eid, field, updateValues)
    assert UNDEF_VALUE in text


@pytest.mark.parametrize(
    (&#34;field&#34;, &#34;value&#34;), ((&#34;discipline&#34;, &#34;ddd&#34;), (&#34;keyword&#34;, &#34;kkk&#34;),),
)
def test_add_meta_right(clientSuzan, field, value):
    &#34;&#34;&#34;Can we add an extra discipline or keyword?

    Yes.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    updateValues = [[value]]

    (text, fields) = modifyField(clientSuzan, CONTRIB, eid, field, updateValues)
    fieldValue(fields, field, value)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="test_B_contrib3.modifyType"><code class="name flex">
<span>def <span class="ident">modifyType</span></span>(<span>client, eid)</span>
</code></dt>
<dd>
<section class="desc"><p>Modifies the typeContribution field to the example value.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def modifyType(client, eid):
    &#34;&#34;&#34;Modifies the typeContribution field to the example value.
    &#34;&#34;&#34;

    types = valueTables[&#34;typeContribution&#34;]

    field = &#34;typeContribution&#34;
    newValue = EXAMPLE[&#34;typeContribution&#34;][-2]
    (text, fields) = modifyField(client, CONTRIB, eid, field, types[newValue])
    assert G(fields, field) == newValue</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_add_meta_right"><code class="name flex">
<span>def <span class="ident">test_add_meta_right</span></span>(<span>clientSuzan, field, value)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we add an extra discipline or keyword?</p>
<p>Yes.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.mark.parametrize(
    (&#34;field&#34;, &#34;value&#34;), ((&#34;discipline&#34;, &#34;ddd&#34;), (&#34;keyword&#34;, &#34;kkk&#34;),),
)
def test_add_meta_right(clientSuzan, field, value):
    &#34;&#34;&#34;Can we add an extra discipline or keyword?

    Yes.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    updateValues = [[value]]

    (text, fields) = modifyField(clientSuzan, CONTRIB, eid, field, updateValues)
    fieldValue(fields, field, value)</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_add_meta_wrong"><code class="name flex">
<span>def <span class="ident">test_add_meta_wrong</span></span>(<span>clientSuzan, field)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we add an extra vcc or type or tadirah characteristic?</p>
<p>No.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.mark.parametrize(
    (&#34;field&#34;,),
    (
        (&#34;vcc&#34;,),
        (&#34;typeContribution&#34;,),
        (&#34;tadirahObject&#34;,),
        (&#34;tadirahActivity&#34;,),
        (&#34;tadirahTechnique&#34;,),
    ),
)
def test_add_meta_wrong(clientSuzan, field):
    &#34;&#34;&#34;Can we add an extra vcc or type or tadirah characteristic?

    No.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    updateValues = [[&#34;xxx&#34;]]

    (text, fields) = modifyField(clientSuzan, CONTRIB, eid, field, updateValues)
    assert UNDEF_VALUE in text</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_modify_meta"><code class="name flex">
<span>def <span class="ident">test_modify_meta</span></span>(<span>clientSuzan, field)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we update the meta fields with a multiple value?</p>
<p>Yes.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.mark.parametrize(
    (&#34;field&#34;,),
    (
        (&#34;tadirahObject&#34;,),
        (&#34;tadirahActivity&#34;,),
        (&#34;tadirahTechnique&#34;,),
        (&#34;discipline&#34;,),
        (&#34;keyword&#34;,),
    ),
)
def test_modify_meta(clientSuzan, field):
    &#34;&#34;&#34;Can we update the meta fields with a multiple value?

    Yes.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    meta = valueTables[field]
    checkValues = EXAMPLE[field][0:3]
    updateValues = [meta[ex] for ex in checkValues]

    (text, fields) = modifyField(clientSuzan, CONTRIB, eid, field, updateValues)
    assert G(fields, field) == &#34;,&#34;.join(checkValues)</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_modify_type_ex1"><code class="name flex">
<span>def <span class="ident">test_modify_type_ex1</span></span>(<span>clientSuzan)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we update the type with a single value?</p>
<p>Yes.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_modify_type_ex1(clientSuzan):
    &#34;&#34;&#34;Can we update the type with a single value?

    Yes.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]

    modifyType(clientSuzan, eid)</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_modify_type_ex2"><code class="name flex">
<span>def <span class="ident">test_modify_type_ex2</span></span>(<span>clientSuzan)</span>
</code></dt>
<dd>
<section class="desc"><p>Restore the type to the example value.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_modify_type_ex2(clientSuzan):
    &#34;&#34;&#34;Restore the type to the example value. &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]

    modifyType(clientSuzan, eid)</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_modify_type_ex3"><code class="name flex">
<span>def <span class="ident">test_modify_type_ex3</span></span>(<span>clientSuzan)</span>
</code></dt>
<dd>
<section class="desc"><p>Restore the type to the example value.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_modify_type_ex3(clientSuzan):
    &#34;&#34;&#34;Restore the type to the example value. &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]

    modifyType(clientSuzan, eid)</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_modify_type_mult"><code class="name flex">
<span>def <span class="ident">test_modify_type_mult</span></span>(<span>clientSuzan)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we update the type with multiple values?</p>
<p>No.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_modify_type_mult(clientSuzan):
    &#34;&#34;&#34;Can we update the type with multiple values?

    No.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    types = valueTables[&#34;typeContribution&#34;]

    field = &#34;typeContribution&#34;
    newValue1 = EXAMPLE[&#34;typeContribution&#34;][-2]
    newValue2 = &#34;service - data hosting&#34;
    (text, fields) = modifyField(
        clientSuzan, CONTRIB, eid, field, [types[newValue1], types[newValue2]]
    )
    assert G(fields, field) == UNDEF_VALUE</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_modify_type_typo"><code class="name flex">
<span>def <span class="ident">test_modify_type_typo</span></span>(<span>clientSuzan)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we update a field if we mis-spell the name?</p>
<p>No.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_modify_type_typo(clientSuzan):
    &#34;&#34;&#34;Can we update a field if we mis-spell the name?

    No.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    types = valueTables[&#34;typeContribution&#34;]

    fieldx = &#34;xxxContribution&#34;
    newValue = &#34;activity - resource creation&#34;
    (text, fields) = modifyField(clientSuzan, CONTRIB, eid, fieldx, types[newValue])
    assert text == f&#34;No field contrib:{fieldx}&#34;</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_modify_type_wrong"><code class="name flex">
<span>def <span class="ident">test_modify_type_wrong</span></span>(<span>clientSuzan)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we update the type with a nonsense value?</p>
<p>Yes, but there will be an undefined value instead.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_modify_type_wrong(clientSuzan):
    &#34;&#34;&#34;Can we update the type with a nonsense value?

    Yes, but there will be an undefined value instead.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]

    field = &#34;typeContribution&#34;
    wrongValue = list(valueTables[&#34;tadirahObject&#34;].values())[0]
    (text, fields) = modifyField(clientSuzan, CONTRIB, eid, field, wrongValue)
    assert G(fields, field) == UNDEF_VALUE</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_modify_vcc"><code class="name flex">
<span>def <span class="ident">test_modify_vcc</span></span>(<span>clientSuzan)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we update the vcc with a multiple value?</p>
<p>Yes.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_modify_vcc(clientSuzan):
    &#34;&#34;&#34;Can we update the vcc with a multiple value?

    Yes.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    vccs = valueTables[&#34;vcc&#34;]

    field = &#34;vcc&#34;
    (text, fields) = modifyField(
        clientSuzan, CONTRIB, eid, field, [vccs[&#34;VCC1&#34;], vccs[&#34;VCC2&#34;]]
    )
    assert G(fields, field) == &#34;VCC1,VCC2&#34;</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_modify_vcc_error"><code class="name flex">
<span>def <span class="ident">test_modify_vcc_error</span></span>(<span>clientSuzan)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we update the vcc with a value that is not even an ObjectId?</p>
<p>Yes, but there will be an undefined value instead.
The error will be caught.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_modify_vcc_error(clientSuzan):
    &#34;&#34;&#34;Can we update the vcc with a value that is not even an ObjectId?

    Yes, but there will be an undefined value instead.
    The error will be caught.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    vccs = valueTables[&#34;vcc&#34;]

    field = &#34;vcc&#34;
    (text, fields) = modifyField(
        clientSuzan, CONTRIB, eid, field, [&#34;monkey&#34;, vccs[&#34;VCC2&#34;]]
    )
    assert G(fields, field) == f&#34;{UNDEF_VALUE},VCC2&#34;</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_modify_vcc_wrong"><code class="name flex">
<span>def <span class="ident">test_modify_vcc_wrong</span></span>(<span>clientSuzan)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we update the vcc with a nonsense value?</p>
<p>Yes, but there will be an undefined value instead.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_modify_vcc_wrong(clientSuzan):
    &#34;&#34;&#34;Can we update the vcc with a nonsense value?

    Yes, but there will be an undefined value instead.
    &#34;&#34;&#34;

    eid = contribInfo[&#34;eid&#34;]
    vccs = valueTables[&#34;vcc&#34;]

    field = &#34;vcc&#34;
    wrongValue = list(valueTables[&#34;tadirahObject&#34;].values())[0]
    (text, fields) = modifyField(
        clientSuzan, CONTRIB, eid, field, [wrongValue, vccs[&#34;VCC2&#34;]]
    )
    assert G(fields, field) == f&#34;{UNDEF_VALUE},VCC2&#34;</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_start"><code class="name flex">
<span>def <span class="ident">test_start</span></span>(<span>clientSuzan)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we find or make an item in a list of contributions?</p>
<p>Yes.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_start(clientSuzan):
    &#34;&#34;&#34;Can we find or make an item in a list of contributions?

    Yes.
    &#34;&#34;&#34;

    (text, fields, msgs, eid) = startWithContrib(clientSuzan)
    contribInfo[&#34;text&#34;] = text
    contribInfo[&#34;fields&#34;] = fields
    contribInfo[&#34;msgs&#34;] = msgs
    contribInfo[&#34;eid&#34;] = eid</code></pre>
</details>
</dd>
<dt id="test_B_contrib3.test_value_edit"><code class="name flex">
<span>def <span class="ident">test_value_edit</span></span>(<span>clientSuzan, field)</span>
</code></dt>
<dd>
<section class="desc"><p>Can we get an edit view of a field with values in a valueTable?</p>
<p>Yes.</p>
<div class="admonition hint">
<p class="admonition-title">Stored for later use</p>
<p>By using <code>getValueTable</code> we store the dict of values in the global
<code>valueTables</code>.</p>
</div></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.mark.parametrize(
    (&#34;field&#34;,),
    (
        (&#34;year&#34;,),
        (&#34;country&#34;,),
        (&#34;vcc&#34;,),
        (&#34;typeContribution&#34;,),
        (&#34;tadirahObject&#34;,),
        (&#34;tadirahActivity&#34;,),
        (&#34;tadirahTechnique&#34;,),
        (&#34;discipline&#34;,),
        (&#34;keyword&#34;,),
    ),
)
def test_value_edit(clientSuzan, field):
    &#34;&#34;&#34;Can we get an edit view of a field with values in a valueTable?

    Yes.

    !!! hint &#34;Stored for later use&#34;
        By using `getValueTable` we store the dict of values in the global
        `valueTables`.
    &#34;&#34;&#34;

    values = getValueTable(clientSuzan, field, contribInfo, valueTables)

    for exampleValue in EXAMPLE[field]:
        assert exampleValue in values</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#acts">Acts</a></li>
</ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="test_B_contrib3.modifyType" href="#test_B_contrib3.modifyType">modifyType</a></code></li>
<li><code><a title="test_B_contrib3.test_add_meta_right" href="#test_B_contrib3.test_add_meta_right">test_add_meta_right</a></code></li>
<li><code><a title="test_B_contrib3.test_add_meta_wrong" href="#test_B_contrib3.test_add_meta_wrong">test_add_meta_wrong</a></code></li>
<li><code><a title="test_B_contrib3.test_modify_meta" href="#test_B_contrib3.test_modify_meta">test_modify_meta</a></code></li>
<li><code><a title="test_B_contrib3.test_modify_type_ex1" href="#test_B_contrib3.test_modify_type_ex1">test_modify_type_ex1</a></code></li>
<li><code><a title="test_B_contrib3.test_modify_type_ex2" href="#test_B_contrib3.test_modify_type_ex2">test_modify_type_ex2</a></code></li>
<li><code><a title="test_B_contrib3.test_modify_type_ex3" href="#test_B_contrib3.test_modify_type_ex3">test_modify_type_ex3</a></code></li>
<li><code><a title="test_B_contrib3.test_modify_type_mult" href="#test_B_contrib3.test_modify_type_mult">test_modify_type_mult</a></code></li>
<li><code><a title="test_B_contrib3.test_modify_type_typo" href="#test_B_contrib3.test_modify_type_typo">test_modify_type_typo</a></code></li>
<li><code><a title="test_B_contrib3.test_modify_type_wrong" href="#test_B_contrib3.test_modify_type_wrong">test_modify_type_wrong</a></code></li>
<li><code><a title="test_B_contrib3.test_modify_vcc" href="#test_B_contrib3.test_modify_vcc">test_modify_vcc</a></code></li>
<li><code><a title="test_B_contrib3.test_modify_vcc_error" href="#test_B_contrib3.test_modify_vcc_error">test_modify_vcc_error</a></code></li>
<li><code><a title="test_B_contrib3.test_modify_vcc_wrong" href="#test_B_contrib3.test_modify_vcc_wrong">test_modify_vcc_wrong</a></code></li>
<li><code><a title="test_B_contrib3.test_start" href="#test_B_contrib3.test_start">test_start</a></code></li>
<li><code><a title="test_B_contrib3.test_value_edit" href="#test_B_contrib3.test_value_edit">test_value_edit</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.7.2</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>