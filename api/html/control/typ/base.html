<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>control.typ.base API documentation</title>
<meta name="description" content="Base class for data types." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>control.typ.base</code></h1>
</header>
<section id="section-intro">
<p>Base class for data types.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Base class for data types.&#34;&#34;&#34;

from config import Config as C, Names as N
from control.html import HtmlElements as H

from control.utils import pick as G, E


CW = C.web

QQ = H.icon(CW.unknown[N.generic])
Qq = H.icon(CW.unknown[N.generic], asChar=True)

WRONG_TYPE = CW.messages


class TypeBase:
    &#34;&#34;&#34;The base class for functions on typed values.

    This class is meant to be extended by classes dealing with specific types.
    It will be extended by Text and Numeric type classes, who in turn will be extended
    by concrete type classes. And there are the classes Value and Master which
    will be exteded by type classes for each value table and type classes for
    each master table respectively.

    See the config file tables.yaml, under keys `scalarTypes` and `boolTypes`.

    Attributes
    ----------
    widgetType: string
        The type of widget that this type needs to edit its value. E.g. `text`.
    rawType: type
        The Python type that is used to represent values of this type.
        If it is None, the rawType is not relevant.
    pattern: string(re)
        For text widgets, this is a regular expression that constrains what is legal
        input in the text input field.
    needsContext: boolean
        Whether methods of this type need to be supplied with the Context singleton.

    !!! note
        In order to compute the representation of a user, the Auth singleton inside the
        Context singleton is needed to detemine what parts of the user identifiaction
        the current user is allowed to see.
    &#34;&#34;&#34;

    widgetType = None
    pattern = None
    rawType = None
    needsContext = False

    @staticmethod
    def validationMsg(tp):
        &#34;&#34;&#34;A validation error message for a specific type.

        Parameters
        ----------
        tp: string
            The name under which a type is registered.

        Returns
        -------
        string
            An error message.  See web.yaml under key `wrongType`.
        &#34;&#34;&#34;

        return G(WRONG_TYPE, tp)

    def normalize(self, strVal):
        &#34;&#34;&#34;Normalizes a string representation of a value.

        Parameters
        ----------
        strVal: string
            The string rep that must be normalized.

        Returns
        -------
        string
            A normalized equivalent representation of the same value.
        &#34;&#34;&#34;

        return str(strVal).strip()

    def fromStr(self, editVal):
        &#34;&#34;&#34;Turns the output from an edit widget into a real value that can be saved.

        Parameters
        ----------
        editVal: string
            The output of an edit widget.

        Returns
        -------
        mixed
            A value of the type in question, corresponding to `editVal`.
        &#34;&#34;&#34;

        if not editVal:
            return None
        val = self.normalize(editVal)
        cast = self.rawType
        return val if cast is None else cast(val)

    def toDisplay(self, val, markup=True):
        &#34;&#34;&#34;Turns a real value into a HTML code for readonly display.

        Parameters
        ----------
        val: mixed
            A value of this type.

        Returns
        -------
        string(html)
            Possibly with nice formatting depending on the nature of the value.
        &#34;&#34;&#34;

        if val is None:
            return None if markup is None else QQ if markup else Qq
        valBare = val if markup is None else H.he(self.normalize(str(val)))
        return H.span(valBare) if markup else valBare

    def toEdit(self, val):
        &#34;&#34;&#34;Turns a real value into a string for editable display.

        Parameters
        ----------
        val: mixed
            A value of this type.

        Returns
        -------
        string
        &#34;&#34;&#34;

        return E if val is None else self.normalize(str(val))

    def toOrig(self, val):
        &#34;&#34;&#34;Turns a real value into an (original) value.

        The resulting value can be used for comparison with newly entered values
        in an edit widget at the client side.

        Parameters
        ----------
        val: mixed
            A value of this type.

        Returns
        -------
        boolean | string | None
        &#34;&#34;&#34;

        if val is None:
            return None
        return str(val)

    def widget(self, val):
        &#34;&#34;&#34;Constructs and edit widget around for this type.

        Parameters
        ----------
        val: string
            The initial value for the widget.

        Returns
        -------
        string(html)
            Dependent on a batch of Javascript in `index.js`, look for `const widgets`.
        &#34;&#34;&#34;

        atts = {}
        if self.pattern:
            atts[N.pattern] = self.pattern
        validationMsg = TypeBase.validationMsg(self.name)

        widgetElem = H.input(self.toEdit(val), type=N.text, cls=&#34;wvalue&#34;, **atts)
        validationElem = H.span(E, valmsg=validationMsg) if validationMsg else E
        return H.join([widgetElem, validationElem])</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="control.typ.base.TypeBase"><code class="flex name class">
<span>class <span class="ident">TypeBase</span></span>
</code></dt>
<dd>
<div class="desc"><p>The base class for functions on typed values.</p>
<p>This class is meant to be extended by classes dealing with specific types.
It will be extended by Text and Numeric type classes, who in turn will be extended
by concrete type classes. And there are the classes Value and Master which
will be exteded by type classes for each value table and type classes for
each master table respectively.</p>
<p>See the config file tables.yaml, under keys <code>scalarTypes</code> and <code>boolTypes</code>.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>widgetType</code></strong> :&ensp;<code>string</code></dt>
<dd>The type of widget that this type needs to edit its value. E.g. <code>text</code>.</dd>
<dt><strong><code>rawType</code></strong> :&ensp;<code>type</code></dt>
<dd>The Python type that is used to represent values of this type.
If it is None, the rawType is not relevant.</dd>
<dt><strong><code>pattern</code></strong> :&ensp;<code>string(re)</code></dt>
<dd>For text widgets, this is a regular expression that constrains what is legal
input in the text input field.</dd>
<dt><strong><code>needsContext</code></strong> :&ensp;<code>boolean</code></dt>
<dd>Whether methods of this type need to be supplied with the Context singleton.</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to compute the representation of a user, the Auth singleton inside the
Context singleton is needed to detemine what parts of the user identifiaction
the current user is allowed to see.</p>
</div></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class TypeBase:
    &#34;&#34;&#34;The base class for functions on typed values.

    This class is meant to be extended by classes dealing with specific types.
    It will be extended by Text and Numeric type classes, who in turn will be extended
    by concrete type classes. And there are the classes Value and Master which
    will be exteded by type classes for each value table and type classes for
    each master table respectively.

    See the config file tables.yaml, under keys `scalarTypes` and `boolTypes`.

    Attributes
    ----------
    widgetType: string
        The type of widget that this type needs to edit its value. E.g. `text`.
    rawType: type
        The Python type that is used to represent values of this type.
        If it is None, the rawType is not relevant.
    pattern: string(re)
        For text widgets, this is a regular expression that constrains what is legal
        input in the text input field.
    needsContext: boolean
        Whether methods of this type need to be supplied with the Context singleton.

    !!! note
        In order to compute the representation of a user, the Auth singleton inside the
        Context singleton is needed to detemine what parts of the user identifiaction
        the current user is allowed to see.
    &#34;&#34;&#34;

    widgetType = None
    pattern = None
    rawType = None
    needsContext = False

    @staticmethod
    def validationMsg(tp):
        &#34;&#34;&#34;A validation error message for a specific type.

        Parameters
        ----------
        tp: string
            The name under which a type is registered.

        Returns
        -------
        string
            An error message.  See web.yaml under key `wrongType`.
        &#34;&#34;&#34;

        return G(WRONG_TYPE, tp)

    def normalize(self, strVal):
        &#34;&#34;&#34;Normalizes a string representation of a value.

        Parameters
        ----------
        strVal: string
            The string rep that must be normalized.

        Returns
        -------
        string
            A normalized equivalent representation of the same value.
        &#34;&#34;&#34;

        return str(strVal).strip()

    def fromStr(self, editVal):
        &#34;&#34;&#34;Turns the output from an edit widget into a real value that can be saved.

        Parameters
        ----------
        editVal: string
            The output of an edit widget.

        Returns
        -------
        mixed
            A value of the type in question, corresponding to `editVal`.
        &#34;&#34;&#34;

        if not editVal:
            return None
        val = self.normalize(editVal)
        cast = self.rawType
        return val if cast is None else cast(val)

    def toDisplay(self, val, markup=True):
        &#34;&#34;&#34;Turns a real value into a HTML code for readonly display.

        Parameters
        ----------
        val: mixed
            A value of this type.

        Returns
        -------
        string(html)
            Possibly with nice formatting depending on the nature of the value.
        &#34;&#34;&#34;

        if val is None:
            return None if markup is None else QQ if markup else Qq
        valBare = val if markup is None else H.he(self.normalize(str(val)))
        return H.span(valBare) if markup else valBare

    def toEdit(self, val):
        &#34;&#34;&#34;Turns a real value into a string for editable display.

        Parameters
        ----------
        val: mixed
            A value of this type.

        Returns
        -------
        string
        &#34;&#34;&#34;

        return E if val is None else self.normalize(str(val))

    def toOrig(self, val):
        &#34;&#34;&#34;Turns a real value into an (original) value.

        The resulting value can be used for comparison with newly entered values
        in an edit widget at the client side.

        Parameters
        ----------
        val: mixed
            A value of this type.

        Returns
        -------
        boolean | string | None
        &#34;&#34;&#34;

        if val is None:
            return None
        return str(val)

    def widget(self, val):
        &#34;&#34;&#34;Constructs and edit widget around for this type.

        Parameters
        ----------
        val: string
            The initial value for the widget.

        Returns
        -------
        string(html)
            Dependent on a batch of Javascript in `index.js`, look for `const widgets`.
        &#34;&#34;&#34;

        atts = {}
        if self.pattern:
            atts[N.pattern] = self.pattern
        validationMsg = TypeBase.validationMsg(self.name)

        widgetElem = H.input(self.toEdit(val), type=N.text, cls=&#34;wvalue&#34;, **atts)
        validationElem = H.span(E, valmsg=validationMsg) if validationMsg else E
        return H.join([widgetElem, validationElem])</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="control.typ.bool.Bool" href="bool.html#control.typ.bool.Bool">Bool</a></li>
<li><a title="control.typ.datetime.Datetime" href="datetime.html#control.typ.datetime.Datetime">Datetime</a></li>
<li><a title="control.typ.numeric.Numeric" href="numeric.html#control.typ.numeric.Numeric">Numeric</a></li>
<li><a title="control.typ.related.Related" href="related.html#control.typ.related.Related">Related</a></li>
<li><a title="control.typ.text.Markdown" href="text.html#control.typ.text.Markdown">Markdown</a></li>
<li><a title="control.typ.text.Text" href="text.html#control.typ.text.Text">Text</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="control.typ.base.TypeBase.needsContext"><code class="name">var <span class="ident">needsContext</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="control.typ.base.TypeBase.pattern"><code class="name">var <span class="ident">pattern</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="control.typ.base.TypeBase.rawType"><code class="name">var <span class="ident">rawType</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="control.typ.base.TypeBase.widgetType"><code class="name">var <span class="ident">widgetType</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="control.typ.base.TypeBase.validationMsg"><code class="name flex">
<span>def <span class="ident">validationMsg</span></span>(<span>tp)</span>
</code></dt>
<dd>
<div class="desc"><p>A validation error message for a specific type.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tp</code></strong> :&ensp;<code>string</code></dt>
<dd>The name under which a type is registered.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>string</code></dt>
<dd>An error message.
See web.yaml under key <code>wrongType</code>.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def validationMsg(tp):
    &#34;&#34;&#34;A validation error message for a specific type.

    Parameters
    ----------
    tp: string
        The name under which a type is registered.

    Returns
    -------
    string
        An error message.  See web.yaml under key `wrongType`.
    &#34;&#34;&#34;

    return G(WRONG_TYPE, tp)</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="control.typ.base.TypeBase.fromStr"><code class="name flex">
<span>def <span class="ident">fromStr</span></span>(<span>self, editVal)</span>
</code></dt>
<dd>
<div class="desc"><p>Turns the output from an edit widget into a real value that can be saved.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>editVal</code></strong> :&ensp;<code>string</code></dt>
<dd>The output of an edit widget.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>mixed</code></dt>
<dd>A value of the type in question, corresponding to <code>editVal</code>.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def fromStr(self, editVal):
    &#34;&#34;&#34;Turns the output from an edit widget into a real value that can be saved.

    Parameters
    ----------
    editVal: string
        The output of an edit widget.

    Returns
    -------
    mixed
        A value of the type in question, corresponding to `editVal`.
    &#34;&#34;&#34;

    if not editVal:
        return None
    val = self.normalize(editVal)
    cast = self.rawType
    return val if cast is None else cast(val)</code></pre>
</details>
</dd>
<dt id="control.typ.base.TypeBase.normalize"><code class="name flex">
<span>def <span class="ident">normalize</span></span>(<span>self, strVal)</span>
</code></dt>
<dd>
<div class="desc"><p>Normalizes a string representation of a value.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>strVal</code></strong> :&ensp;<code>string</code></dt>
<dd>The string rep that must be normalized.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>string</code></dt>
<dd>A normalized equivalent representation of the same value.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def normalize(self, strVal):
    &#34;&#34;&#34;Normalizes a string representation of a value.

    Parameters
    ----------
    strVal: string
        The string rep that must be normalized.

    Returns
    -------
    string
        A normalized equivalent representation of the same value.
    &#34;&#34;&#34;

    return str(strVal).strip()</code></pre>
</details>
</dd>
<dt id="control.typ.base.TypeBase.toDisplay"><code class="name flex">
<span>def <span class="ident">toDisplay</span></span>(<span>self, val, markup=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Turns a real value into a HTML code for readonly display.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>val</code></strong> :&ensp;<code>mixed</code></dt>
<dd>A value of this type.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>string(html)</code></dt>
<dd>Possibly with nice formatting depending on the nature of the value.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def toDisplay(self, val, markup=True):
    &#34;&#34;&#34;Turns a real value into a HTML code for readonly display.

    Parameters
    ----------
    val: mixed
        A value of this type.

    Returns
    -------
    string(html)
        Possibly with nice formatting depending on the nature of the value.
    &#34;&#34;&#34;

    if val is None:
        return None if markup is None else QQ if markup else Qq
    valBare = val if markup is None else H.he(self.normalize(str(val)))
    return H.span(valBare) if markup else valBare</code></pre>
</details>
</dd>
<dt id="control.typ.base.TypeBase.toEdit"><code class="name flex">
<span>def <span class="ident">toEdit</span></span>(<span>self, val)</span>
</code></dt>
<dd>
<div class="desc"><p>Turns a real value into a string for editable display.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>val</code></strong> :&ensp;<code>mixed</code></dt>
<dd>A value of this type.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>string</code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def toEdit(self, val):
    &#34;&#34;&#34;Turns a real value into a string for editable display.

    Parameters
    ----------
    val: mixed
        A value of this type.

    Returns
    -------
    string
    &#34;&#34;&#34;

    return E if val is None else self.normalize(str(val))</code></pre>
</details>
</dd>
<dt id="control.typ.base.TypeBase.toOrig"><code class="name flex">
<span>def <span class="ident">toOrig</span></span>(<span>self, val)</span>
</code></dt>
<dd>
<div class="desc"><p>Turns a real value into an (original) value.</p>
<p>The resulting value can be used for comparison with newly entered values
in an edit widget at the client side.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>val</code></strong> :&ensp;<code>mixed</code></dt>
<dd>A value of this type.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>boolean | string | None</code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def toOrig(self, val):
    &#34;&#34;&#34;Turns a real value into an (original) value.

    The resulting value can be used for comparison with newly entered values
    in an edit widget at the client side.

    Parameters
    ----------
    val: mixed
        A value of this type.

    Returns
    -------
    boolean | string | None
    &#34;&#34;&#34;

    if val is None:
        return None
    return str(val)</code></pre>
</details>
</dd>
<dt id="control.typ.base.TypeBase.widget"><code class="name flex">
<span>def <span class="ident">widget</span></span>(<span>self, val)</span>
</code></dt>
<dd>
<div class="desc"><p>Constructs and edit widget around for this type.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>val</code></strong> :&ensp;<code>string</code></dt>
<dd>The initial value for the widget.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>string(html)</code></dt>
<dd>Dependent on a batch of Javascript in <code>index.js</code>, look for <code>const widgets</code>.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def widget(self, val):
    &#34;&#34;&#34;Constructs and edit widget around for this type.

    Parameters
    ----------
    val: string
        The initial value for the widget.

    Returns
    -------
    string(html)
        Dependent on a batch of Javascript in `index.js`, look for `const widgets`.
    &#34;&#34;&#34;

    atts = {}
    if self.pattern:
        atts[N.pattern] = self.pattern
    validationMsg = TypeBase.validationMsg(self.name)

    widgetElem = H.input(self.toEdit(val), type=N.text, cls=&#34;wvalue&#34;, **atts)
    validationElem = H.span(E, valmsg=validationMsg) if validationMsg else E
    return H.join([widgetElem, validationElem])</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="control.typ" href="index.html">control.typ</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="control.typ.base.TypeBase" href="#control.typ.base.TypeBase">TypeBase</a></code></h4>
<ul class="two-column">
<li><code><a title="control.typ.base.TypeBase.fromStr" href="#control.typ.base.TypeBase.fromStr">fromStr</a></code></li>
<li><code><a title="control.typ.base.TypeBase.needsContext" href="#control.typ.base.TypeBase.needsContext">needsContext</a></code></li>
<li><code><a title="control.typ.base.TypeBase.normalize" href="#control.typ.base.TypeBase.normalize">normalize</a></code></li>
<li><code><a title="control.typ.base.TypeBase.pattern" href="#control.typ.base.TypeBase.pattern">pattern</a></code></li>
<li><code><a title="control.typ.base.TypeBase.rawType" href="#control.typ.base.TypeBase.rawType">rawType</a></code></li>
<li><code><a title="control.typ.base.TypeBase.toDisplay" href="#control.typ.base.TypeBase.toDisplay">toDisplay</a></code></li>
<li><code><a title="control.typ.base.TypeBase.toEdit" href="#control.typ.base.TypeBase.toEdit">toEdit</a></code></li>
<li><code><a title="control.typ.base.TypeBase.toOrig" href="#control.typ.base.TypeBase.toOrig">toOrig</a></code></li>
<li><code><a title="control.typ.base.TypeBase.validationMsg" href="#control.typ.base.TypeBase.validationMsg">validationMsg</a></code></li>
<li><code><a title="control.typ.base.TypeBase.widget" href="#control.typ.base.TypeBase.widget">widget</a></code></li>
<li><code><a title="control.typ.base.TypeBase.widgetType" href="#control.typ.base.TypeBase.widgetType">widgetType</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>