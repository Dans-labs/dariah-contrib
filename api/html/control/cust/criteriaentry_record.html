<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.7.5" />
<title>control.cust.criteriaentry_record API documentation</title>
<meta name="description" content="" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>control.cust.criteriaentry_record</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from config import Config as C, Names as N
from control.html import HtmlElements as H
from control.utils import pick as G, E, DOT, Q, NBSP
from control.record import Record


CW = C.web

MESSAGES = CW.messages


class CriteriaEntryR(Record):
    &#34;&#34;&#34;Logic for criteriaEntry records.

    Criteria entry records have a customised title, with the sequence number
    of the criteria in it, plus the score the assessor has entered and an icon
    to show whether there is evidence or not.

    There is also a `compact` method to present these records, with a collapsible
    legend, fitting on one line, so that a series of criteriaEntry records shows
    up as a tidy list on the page.

    !!! hint
        If the `criteriaEntry` record is not part of the workflow, the behaviour
        of this class falls back to the base class `control.record.Record`.
    &#34;&#34;&#34;

    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

        context = self.context
        record = self.record
        mkTable = self.mkTable

        critObj = mkTable(context, N.criteria)
        critId = G(record, N.criteria)
        critRecord = critObj.record(eid=critId)
        self.critId = critId
        &#34;&#34;&#34;*ObjectId* The id of the `criteria` record to which this entry refers.
        &#34;&#34;&#34;

        self.critRecord = critRecord
        &#34;&#34;&#34;*dict* The `criteria` record to which this entry refers.
        &#34;&#34;&#34;

    def title(self, *args, **kwargs):
        record = self.record
        critRecord = self.critRecord

        withEvidence = H.icon(
            N.missing if self.field(N.evidence).isBlank() else N.check
        )
        status = H.span(f&#34;&#34;&#34;evidence{NBSP}{withEvidence}&#34;&#34;&#34;, cls=&#34;right small&#34;)
        seq = G(record, N.seq, default=Q)
        scoreRep = self.field(N.score).wrapBare()

        return H.span(
            [
                H.span([f&#34;&#34;&#34;{seq}{DOT}{NBSP}&#34;&#34;&#34;, critRecord.title()], cls=&#34;col1&#34;),
                H.span(scoreRep, cls=&#34;col2&#34;),
                status,
            ],
            cls=f&#34;centrytitle criteria&#34;,
        )

    def bodyCompact(self, **kwargs):
        critId = self.critId
        critRecord = self.critRecord
        perm = self.perm

        critData = critRecord.record
        actual = G(critData, N.actual, default=False)
        msg = E if actual else G(MESSAGES, N.legacyCriterion)

        critKey = f&#34;&#34;&#34;{N.criteria}/{critId}/help&#34;&#34;&#34;
        (infoShow, infoHide, infoBody) = H.detailx(
            (N.info, N.dismiss),
            critRecord.wrapHelp(),
            critKey,
            openAtts=dict(cls=&#34;button small&#34;, title=&#34;Explanation and scoring guide&#34;),
            closeAtts=dict(cls=&#34;button small&#34;, title=&#34;Hide criteria explanation&#34;),
        )

        score = H.div(self.field(N.score).wrap(asEdit=G(perm, N.isEdit)))
        evidence = H.div(self.field(N.evidence).wrap(asEdit=G(perm, N.isEdit)))
        entry = H.div(
            [
                H.div(H.he(msg), cls=&#34;heavy&#34;) if msg else E,
                infoShow,
                infoHide,
                infoBody,
                score,
                evidence,
            ],
        )

        return entry</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="control.cust.criteriaentry_record.CriteriaEntryR"><code class="flex name class">
<span>class <span class="ident">CriteriaEntryR</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>Logic for criteriaEntry records.</p>
<p>Criteria entry records have a customised title, with the sequence number
of the criteria in it, plus the score the assessor has entered and an icon
to show whether there is evidence or not.</p>
<p>There is also a <code>compact</code> method to present these records, with a collapsible
legend, fitting on one line, so that a series of criteriaEntry records shows
up as a tidy list on the page.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>If the <code>criteriaEntry</code> record is not part of the workflow, the behaviour
of this class falls back to the base class <a title="control.record.Record" href="../record.html#control.record.Record"><code>Record</code></a>.</p>
</div>
<h2 id="initialization">Initialization</h2>
<p>Store the incoming information.</p>
<p>A number of properties will be inherited from the table object
that spawns a record object.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tableObj</code></strong> :&ensp;<code>object</code></dt>
<dd>See below.</dd>
<dt><strong><code>eid</code></strong>, <strong><code>record</code></strong>, <strong><code>withDetails</code></strong>, <strong><code>readonly</code></strong>, <strong><code>bodyMethod</code></strong></dt>
<dd>See <a title="control.table.Table.record" href="../table.html#control.table.Table.record"><code>Table.record()</code></a></dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CriteriaEntryR(Record):
    &#34;&#34;&#34;Logic for criteriaEntry records.

    Criteria entry records have a customised title, with the sequence number
    of the criteria in it, plus the score the assessor has entered and an icon
    to show whether there is evidence or not.

    There is also a `compact` method to present these records, with a collapsible
    legend, fitting on one line, so that a series of criteriaEntry records shows
    up as a tidy list on the page.

    !!! hint
        If the `criteriaEntry` record is not part of the workflow, the behaviour
        of this class falls back to the base class `control.record.Record`.
    &#34;&#34;&#34;

    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

        context = self.context
        record = self.record
        mkTable = self.mkTable

        critObj = mkTable(context, N.criteria)
        critId = G(record, N.criteria)
        critRecord = critObj.record(eid=critId)
        self.critId = critId
        &#34;&#34;&#34;*ObjectId* The id of the `criteria` record to which this entry refers.
        &#34;&#34;&#34;

        self.critRecord = critRecord
        &#34;&#34;&#34;*dict* The `criteria` record to which this entry refers.
        &#34;&#34;&#34;

    def title(self, *args, **kwargs):
        record = self.record
        critRecord = self.critRecord

        withEvidence = H.icon(
            N.missing if self.field(N.evidence).isBlank() else N.check
        )
        status = H.span(f&#34;&#34;&#34;evidence{NBSP}{withEvidence}&#34;&#34;&#34;, cls=&#34;right small&#34;)
        seq = G(record, N.seq, default=Q)
        scoreRep = self.field(N.score).wrapBare()

        return H.span(
            [
                H.span([f&#34;&#34;&#34;{seq}{DOT}{NBSP}&#34;&#34;&#34;, critRecord.title()], cls=&#34;col1&#34;),
                H.span(scoreRep, cls=&#34;col2&#34;),
                status,
            ],
            cls=f&#34;centrytitle criteria&#34;,
        )

    def bodyCompact(self, **kwargs):
        critId = self.critId
        critRecord = self.critRecord
        perm = self.perm

        critData = critRecord.record
        actual = G(critData, N.actual, default=False)
        msg = E if actual else G(MESSAGES, N.legacyCriterion)

        critKey = f&#34;&#34;&#34;{N.criteria}/{critId}/help&#34;&#34;&#34;
        (infoShow, infoHide, infoBody) = H.detailx(
            (N.info, N.dismiss),
            critRecord.wrapHelp(),
            critKey,
            openAtts=dict(cls=&#34;button small&#34;, title=&#34;Explanation and scoring guide&#34;),
            closeAtts=dict(cls=&#34;button small&#34;, title=&#34;Hide criteria explanation&#34;),
        )

        score = H.div(self.field(N.score).wrap(asEdit=G(perm, N.isEdit)))
        evidence = H.div(self.field(N.evidence).wrap(asEdit=G(perm, N.isEdit)))
        entry = H.div(
            [
                H.div(H.he(msg), cls=&#34;heavy&#34;) if msg else E,
                infoShow,
                infoHide,
                infoBody,
                score,
                evidence,
            ],
        )

        return entry</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="control.record.Record" href="../record.html#control.record.Record">Record</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="control.cust.criteriaentry_record.CriteriaEntryR.critId"><code class="name">var <span class="ident">critId</span></code></dt>
<dd>
<section class="desc"><p><em>ObjectId</em> The id of the <code>criteria</code> record to which this entry refers.</p></section>
</dd>
<dt id="control.cust.criteriaentry_record.CriteriaEntryR.critRecord"><code class="name">var <span class="ident">critRecord</span></code></dt>
<dd>
<section class="desc"><p><em>dict</em> The <code>criteria</code> record to which this entry refers.</p></section>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="control.cust.criteriaentry_record.CriteriaEntryR.bodyCompact"><code class="name flex">
<span>def <span class="ident">bodyCompact</span></span>(<span>self, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def bodyCompact(self, **kwargs):
    critId = self.critId
    critRecord = self.critRecord
    perm = self.perm

    critData = critRecord.record
    actual = G(critData, N.actual, default=False)
    msg = E if actual else G(MESSAGES, N.legacyCriterion)

    critKey = f&#34;&#34;&#34;{N.criteria}/{critId}/help&#34;&#34;&#34;
    (infoShow, infoHide, infoBody) = H.detailx(
        (N.info, N.dismiss),
        critRecord.wrapHelp(),
        critKey,
        openAtts=dict(cls=&#34;button small&#34;, title=&#34;Explanation and scoring guide&#34;),
        closeAtts=dict(cls=&#34;button small&#34;, title=&#34;Hide criteria explanation&#34;),
    )

    score = H.div(self.field(N.score).wrap(asEdit=G(perm, N.isEdit)))
    evidence = H.div(self.field(N.evidence).wrap(asEdit=G(perm, N.isEdit)))
    entry = H.div(
        [
            H.div(H.he(msg), cls=&#34;heavy&#34;) if msg else E,
            infoShow,
            infoHide,
            infoBody,
            score,
            evidence,
        ],
    )

    return entry</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="control.record.Record" href="../record.html#control.record.Record">Record</a></b></code>:
<ul class="hlist">
<li><code><a title="control.record.Record.DetailsClass" href="../record.html#control.record.Record.DetailsClass">DetailsClass</a></code></li>
<li><code><a title="control.record.Record.adjustWorkflow" href="../record.html#control.record.Record.adjustWorkflow">adjustWorkflow</a></code></li>
<li><code><a title="control.record.Record.body" href="../record.html#control.record.Record.body">body</a></code></li>
<li><code><a title="control.record.Record.bodyMethod" href="../record.html#control.record.Record.bodyMethod">bodyMethod</a></code></li>
<li><code><a title="control.record.Record.delete" href="../record.html#control.record.Record.delete">delete</a></code></li>
<li><code><a title="control.record.Record.deleteButton" href="../record.html#control.record.Record.deleteButton">deleteButton</a></code></li>
<li><code><a title="control.record.Record.deleteDetails" href="../record.html#control.record.Record.deleteDetails">deleteDetails</a></code></li>
<li><code><a title="control.record.Record.eid" href="../record.html#control.record.Record.eid">eid</a></code></li>
<li><code><a title="control.record.Record.field" href="../record.html#control.record.Record.field">field</a></code></li>
<li><code><a title="control.record.Record.getDelPerm" href="../record.html#control.record.Record.getDelPerm">getDelPerm</a></code></li>
<li><code><a title="control.record.Record.getDependencies" href="../record.html#control.record.Record.getDependencies">getDependencies</a></code></li>
<li><code><a title="control.record.Record.inActualCls" href="../record.html#control.record.Record.inActualCls">inActualCls</a></code></li>
<li><code><a title="control.record.Record.mayDelete" href="../record.html#control.record.Record.mayDelete">mayDelete</a></code></li>
<li><code><a title="control.record.Record.readonly" href="../record.html#control.record.Record.readonly">readonly</a></code></li>
<li><code><a title="control.record.Record.record" href="../record.html#control.record.Record.record">record</a></code></li>
<li><code><a title="control.record.Record.reload" href="../record.html#control.record.Record.reload">reload</a></code></li>
<li><code><a title="control.record.Record.setPerm" href="../record.html#control.record.Record.setPerm">setPerm</a></code></li>
<li><code><a title="control.record.Record.setWorkflow" href="../record.html#control.record.Record.setWorkflow">setWorkflow</a></code></li>
<li><code><a title="control.record.Record.tableObj" href="../record.html#control.record.Record.tableObj">tableObj</a></code></li>
<li><code><a title="control.record.Record.task" href="../record.html#control.record.Record.task">task</a></code></li>
<li><code><a title="control.record.Record.title" href="../record.html#control.record.Record.title">title</a></code></li>
<li><code><a title="control.record.Record.titleRaw" href="../record.html#control.record.Record.titleRaw">titleRaw</a></code></li>
<li><code><a title="control.record.Record.withDetails" href="../record.html#control.record.Record.withDetails">withDetails</a></code></li>
<li><code><a title="control.record.Record.wrap" href="../record.html#control.record.Record.wrap">wrap</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="control.cust" href="index.html">control.cust</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="control.cust.criteriaentry_record.CriteriaEntryR" href="#control.cust.criteriaentry_record.CriteriaEntryR">CriteriaEntryR</a></code></h4>
<ul class="">
<li><code><a title="control.cust.criteriaentry_record.CriteriaEntryR.bodyCompact" href="#control.cust.criteriaentry_record.CriteriaEntryR.bodyCompact">bodyCompact</a></code></li>
<li><code><a title="control.cust.criteriaentry_record.CriteriaEntryR.critId" href="#control.cust.criteriaentry_record.CriteriaEntryR.critId">critId</a></code></li>
<li><code><a title="control.cust.criteriaentry_record.CriteriaEntryR.critRecord" href="#control.cust.criteriaentry_record.CriteriaEntryR.critRecord">critRecord</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.7.5</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>